{"ast":null,"code":"import React from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{actionCreators as imageActions}from\"../redux/modules/image\";import{jsx as _jsx}from\"react/jsx-runtime\";var Upload=function Upload(props){var dispatch=useDispatch();var fileInput=React.useRef();var selectFile=function selectFile(e){// 아래 주석을 풀어서 input에 들어간 file 객체를 확인해보세요! :)\n// console.log(e.target.files[0]);\n// console.log(fileInput.current.files[0]);\n// 파일 리더 객체를 사용해서 미리보기를 넣어줍니다.\nvar reader=new FileReader();var file=fileInput.current.files[0];reader.readAsDataURL(file);reader.onloadend=function(){// 파일 리더 객체를 사용해서 미리보기를 넣어줍니다.\n//   아래 주석을 풀고 파일리더 객체가 어떤 식으로 파일을 읽었나 확인해보세요 :) \n//   console.log(reader.result);\ndispatch(imageActions.setPreview(reader.result));};};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:selectFile,ref:fileInput})});};export default Upload;","map":{"version":3,"sources":["/Users/frankie/sparta/hanghae_react/magazine_test/src/shared/Upload.js"],"names":["React","useDispatch","useSelector","actionCreators","imageActions","Upload","props","dispatch","fileInput","useRef","selectFile","e","reader","FileReader","file","current","files","readAsDataURL","onloadend","setPreview","result"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,cAAc,GAAIC,CAAAA,YAA3B,KAA+C,wBAA/C,C,2CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAW,CACxB,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,CAAAA,SAAS,CAAGR,KAAK,CAACS,MAAN,EAAlB,CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAO,CACxB;AACA;AACA;AAEA;AACA,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAf,CACA,GAAMC,CAAAA,IAAI,CAAGN,SAAS,CAACO,OAAV,CAAkBC,KAAlB,CAAwB,CAAxB,CAAb,CAEAJ,MAAM,CAACK,aAAP,CAAqBH,IAArB,EAEAF,MAAM,CAACM,SAAP,CAAmB,UAAM,CACvB;AACF;AACA;AACEX,QAAQ,CAACH,YAAY,CAACe,UAAb,CAAwBP,MAAM,CAACQ,MAA/B,CAAD,CAAR,CACD,CALD,CAMD,CAjBD,CAmBA,mBACE,KAAC,KAAD,CAAO,QAAP,wBACE,cACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAEV,UAFZ,CAGE,GAAG,CAAEF,SAHP,EADF,EADF,CASD,CAhCD,CAkCA,cAAeH,CAAAA,MAAf","sourcesContent":["import React from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { actionCreators as imageActions } from \"../redux/modules/image\";\n\nconst Upload = (props) => {\n  const dispatch = useDispatch();\n  const fileInput = React.useRef();\n\n  const selectFile = (e) => {\n    // 아래 주석을 풀어서 input에 들어간 file 객체를 확인해보세요! :)\n    // console.log(e.target.files[0]);\n    // console.log(fileInput.current.files[0]);\n\n    // 파일 리더 객체를 사용해서 미리보기를 넣어줍니다.\n    const reader = new FileReader();\n    const file = fileInput.current.files[0];\n\n    reader.readAsDataURL(file);\n\n    reader.onloadend = () => {\n      // 파일 리더 객체를 사용해서 미리보기를 넣어줍니다.\n    //   아래 주석을 풀고 파일리더 객체가 어떤 식으로 파일을 읽었나 확인해보세요 :) \n    //   console.log(reader.result);\n      dispatch(imageActions.setPreview(reader.result));\n    };\n  };\n\n  return (\n    <React.Fragment>\n      <input\n        type=\"file\"\n        onChange={selectFile}\n        ref={fileInput}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default Upload;\n"]},"metadata":{},"sourceType":"module"}